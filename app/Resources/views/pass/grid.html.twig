{% extends 'AvanzuAdminThemeBundle:layout:base-layout.html.twig' %}
{% import 'GestionBundle:Macros:html.html.twig' as _html %}


{% block page_content %}

    <div class="row">

        <div class="col-md-12">

            <!-- general form elements -->

            <div class="box box-primary">

                <div class="box-header">

                    <!-- Horizontal Form -->

                    <div class="">

                        <div class="box-header with-border">

                            <h3 class="box-title">{{ _html.text('pass.title') }}</h3>

                        </div>

                    </div>

                </div>



                

            

                <div class="box-body">

                    <a onclick="return {{ grid.hash }}_reset();" href="#" class="btn btn-success"><span class="fa fa-refresh"></span></a>

                    <a href="{{ path ('admin_config_pass_generate') }}" class="btn btn-success">{{ _html.text('btn.generate_pass') }}</a>

                    <a href="{{ path ('admin_config_pass_import') }}" class="btn btn-success">{{ _html.text('btn.export_file') }}</a>

                     <a href="{{ path ('admin_config_pass_export') }}" class="btn btn-success">{{ _html.text('btn.import_file') }}</a>

                    {{ render(controller('ParametreBundle:Pass:new')) }}

                    {{ grid(grid) }}

                </div>

            </div>

        </div>

    </div>

{% endblock %}

{% block javascripts_inline %}

    <script>

        /*$('#form_new_pass').on('submit', function (e) {

            e.preventDefault();

            const $this = $(this);

            const $ajax_feedback = $('.ajax-feedback', $this);

            $.post($this.attr('action'), $this.serialize(), function (data) {

                $ajax_feedback.addClass('hide').html('');

                const message = data.message;

                if (!data.success) {

                    let error_str = '';

                    for (error of message) {

                        error_str += `<p>${error}</p>`;

                    }

                    

                    $ajax_feedback

                        .removeClass('hide')

                        .removeClass('alert-success')

                        .addClass('alert-danger')

                        .html(error_str);

                } else {

                    $ajax_feedback

                        .removeClass('hide')

                        .removeClass('alert-danger')

                        .addClass('alert-success')

                        .html(message);



                    $this.trigger('reset');

                    $this.closest('.modal').modal('hide');

                    setTimeout(function () {

                        $('#grid_wrapper').load("{{ path('admin_config_pass_index') }} #grid_wrapper");

                    }, 3000);

                }

            }, 'json');

        }); */

    </script>

{% endblock %}

