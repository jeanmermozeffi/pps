"use strict";function KnpPaginatorAjax(){this.loading=!1,this.noMorePagesLeft=!1,this.ajaxLoadedContent=[]}KnpPaginatorAjax.prototype.getCurrentPage=function(){return parseInt(this.pageElem.find("li.active span").text())},KnpPaginatorAjax.prototype.getNextPage=function(){var t=this.ajaxLoadedContent.pop();if(t)var e=t.find(this.options.paginationSelector).find("li.active").next().find("a");else e=this.pageElem.find("li.active").next().find("a");var n=parseInt(e.text());return!(e.hasClass("disabled")||!n)&&{url:e.attr("href"),number:parseInt(n)}},KnpPaginatorAjax.prototype.setAjaxLoadedContent=function(t){this.ajaxLoadedContent.push(t),this.update()},KnpPaginatorAjax.prototype.init=function(t){this.options=t,this.pageElem=$(t.paginationSelector),this.pageElem.hide(),this.injectLoadMoreButton()},KnpPaginatorAjax.prototype.injectLoadMoreButton=function(){var t=$("<div class='text-center'><button class='btn btn-default loadMore'>"+this.options.loadMoreText+"</button></div>"),e=$("<div class='text-center' style='display:none;'><button class='btn btn-default disabled'>"+this.options.loadingText+"</button></div>");this.loadMoreButton=t,this.spinner=e,this.pageElem.after(t),this.pageElem.after(e),t.click(this.clickListener.bind(this))},KnpPaginatorAjax.prototype.update=function(){this.getNextPage()?this.loadMoreButton.show():this.loadMoreButton.hide()},KnpPaginatorAjax.prototype.clickListener=function(){var t=this;this.loading=!0;var e=this.getNextPage(),n=this.options;this.spinner.show(),this.loadMoreButton.hide(),$.get(e.url,function(e){t.spinner.hide(),t.loadMoreButton.show();var o=(e=$(e)).find(n.elementsSelector);e.filter(n.elementsSelector).length?$(n.elementsSelector).append(e.filter(n.elementsSelector)):$(n.elementsSelector).append(o),t.pageElem=e.find(t.options.paginationSelector),t.getNextPage()||(t.loadMoreButton.hide(),t.noMorePagesLeft=!0),t.loading=!1})};